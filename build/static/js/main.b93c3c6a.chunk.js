(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAGFBMVEXx7/D////18/T6+vr49/j08vP8/Pzw7e+uV6dtAAABfUlEQVR4nO3ayXKCUBBAUeXB4///OCEGmVQMLKx0n7NTYNG3mIvLBQAAAAAAAAAAAAAAAAAAAACANLrmrO7TI5xWr2eVT49wmgYaDDS4NWj6gxv3bZwGh7fWQINBrAbtn8+F41YaaKBB5Aa16bpm9+YpdIPfy0SXuMH4LNzvRAjcoJ2WvT5HBG4wX6jBzkNl3AZ1vTBhA8fCdbosDOYjb/aJwA1mI5XFyOsIgRtMF8dmMfLqZ+wGQ4S+X98dlM0ZMnSD77Hatlw3EzebfyI3eGBcN3GDn0GXO0K6Bs195bwNbisvdoRsDcY76MwNxrfvZfVfpgbj2vPXKskaTA+TWRuU2WPU7GDI06AsP7Xp0jUo22+NcjV4EOAyPxjiN3g2WZenwfPB0jR4MVdJ0uDVWF2OBq+nqhka7A1V4zfYn6lGb/DOSDVmg/v3629tNa4Yq8ExGmgwiNOgtEfVMA3O0UCDGA3actbxMyoAAAAAAAAAAAAAAAAAAAAAAPxDX+w9D05sn3cWAAAAAElFTkSuQmCC"},148:function(e,t,a){e.exports=a(331)},153:function(e,t,a){},155:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},328:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),c=a.n(o),l=(a(153),a(35)),i=a(36),u=a(38),s=a(37),m=a(39),f=a(338),p=a(88),d=a(28),g=a(339),A=a(340),h=a(336),E=a(333),v=a(332),b=(a(155),function(e){var t=e.uploading,a=void 0!==t&&t,n=e.predictions,o=void 0===n?[]:n;return r.a.createElement("div",{className:"info-container"},r.a.createElement(E.a,{tip:"Analizando...",spinning:a},o.length>0&&r.a.createElement("table",null,r.a.createElement("thead",{className:"heading"},r.a.createElement("tr",null,r.a.createElement("th",{width:"30%"},"Predicci\xf3n"),r.a.createElement("th",{width:"70%"},"Valor"))),r.a.createElement("tbody",{className:"body"},o.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement(v.a,{percent:Math.round(100*e.probability)}))))}))),!o.length&&r.a.createElement("div",{className:"empty-message"},r.a.createElement("h2",null,"Seleccione una imagen para analizar."))))}),C=a(334),y=a(335),w=a(136),O=a.n(w),j=(a(208),function(e){var t=e.src||O.a;return r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:t,alt:"Nothing"}))}),k=(a(210),window.require("electron").remote.require("fs")),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={fileToUpload:null},a.beforeUploadHandler=function(e){try{var t=e.path,n=e.type,r=e.name,o=k.readFileSync(t);a.setState({fileToUpload:{imagePath:t,type:n,name:r,content:o}})}catch(c){console.log("Error reading file from local FS",c),a.setState({fileToUpload:null})}return!1},a.preview=function(){var e=a.state.fileToUpload;return e?"data:".concat(e.type,";base64,").concat(e.content.toString("base64")):""},a.upload=function(){var e=a.state.fileToUpload;e&&a.props.onUpload(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.uploading,t=this.preview();return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(A.a,{span:24},r.a.createElement(j,{src:t}))),r.a.createElement(g.a,null,r.a.createElement(A.a,{span:24},r.a.createElement(C.a,null,"Subir imagen"))),r.a.createElement(g.a,null,r.a.createElement(A.a,{span:8,offset:1},r.a.createElement(y.a,{beforeUpload:this.beforeUploadHandler,action:"//jsonplaceholder.typicode.com/posts/",showUploadList:!1},r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(d.a,{type:"upload"}),"Seleccionar archivo")))),r.a.createElement(A.a,{span:15},r.a.createElement(p.a,{loading:e,disabled:e,onClick:this.upload},e?"Analizando":"Analizar"))))}}]),t}(n.Component),S=a(29),B=a(337),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state=a.props.config,a.onBackendUrlChange=function(e){var t=e.target.value;a.setState(function(e){var n=Object(S.a)({},e,{url:t});return a.props.onChange(n),n})},a.onPredictionKeyChange=function(e){var t=e.target.value;a.setState(function(e){var n=Object(S.a)({},e,{key:t});return a.props.onChange(n),n})},a.onIterationIdChange=function(e){var t=e.target.value;a.setState(function(e){var n=Object(S.a)({},e,{iteration:t});return a.props.onChange(n),n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.url,a=e.key,n=e.iteration;return r.a.createElement("div",null,r.a.createElement("label",null,"Backend",r.a.createElement(B.a,{value:t,onChange:this.onBackendUrlChange})),r.a.createElement(C.a,null),r.a.createElement("label",null,"Iteration Id",r.a.createElement(B.a,{value:n,onChange:this.onIterationIdChange})),r.a.createElement(C.a,null),r.a.createElement("label",null,"Prediction Key",r.a.createElement(B.a,{value:a,onChange:this.onPredictionKeyChange})))}}]),t}(n.Component),I=a(92),P=a.n(I),D=a(142),T=a(143),G=a.n(T),M={url:"https://southcentralus.api.cognitive.microsoft.com/customvision/v2.0/Prediction/94f8e59f-454d-45a2-87f7-6f29d42baae3/image",iteration:"73635dee-84a7-4fa5-8786-d792de643d76",key:"4579f95c06484bd4b4becc0756a0c019"},V=function(e){return M=Object(S.a)({},M,e)},x=function(){var e=Object(S.a)({},M);return console.log("Requested config",e),e},R=function(){var e=Object(D.a)(P.a.mark(function e(t){var a,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.buffer,e.prev=1,e.next=4,G()({method:"post",url:"".concat(M.url,"?iterationId=").concat(M.iteration),data:a,headers:{"Prediction-Key":M.key,"Content-Type":"application/octet-stream"}});case 4:return n=e.sent,e.abrupt("return",n.data.predictions.map(function(e){return{probability:e.probability,name:e.tagName}}));case 8:throw e.prev=8,e.t0=e.catch(1),console.log("ERROR",e.t0),e.t0;case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),W=(a(328),f.a.Header),X=f.a.Content,z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={uploading:!1,info:{},config:x(),error:null},a.onImageSelected=function(e){a.setState({uploading:!0}),R({buffer:e.content}).then(function(e){a.setState({uploading:!1,info:e})}).catch(function(e){a.setState({error:e})})},a.openConfig=function(){a.setState({showConfig:!0})},a.cancelConfig=function(){a.setState({showConfig:!1})},a.applyConfig=function(){var e=a.state.config;V(e),a.cancelConfig()},a.onConfigChange=function(e){a.setState({config:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.uploading,a=e.info,n=e.showConfig,o=e.config;return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(W,null,r.a.createElement("h1",{className:"title"},"An\xe1lisis de Im\xe1genes"),r.a.createElement("div",{className:"right-menu"},r.a.createElement(p.a,{onClick:this.openConfig},r.a.createElement(d.a,{type:"setting",theme:"filled"})," Configuraci\xf3n"))),r.a.createElement(X,{className:"main-layout"},r.a.createElement(g.a,{gutter:5},r.a.createElement(A.a,{span:10},r.a.createElement(N,{uploading:t,onUpload:this.onImageSelected})),r.a.createElement(A.a,{span:12,push:1},r.a.createElement(b,{uploading:t,predictions:a})))),r.a.createElement(h.a,{visible:n,title:"Configuraci\xf3n",onOk:this.applyConfig,onCancel:this.cancelConfig,footer:[r.a.createElement(p.a,{key:"back",onClick:this.cancelConfig},"Cancelar"),r.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.applyConfig},"Aplicar")]},r.a.createElement(U,{config:o,onChange:this.onConfigChange}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[148,2,1]]]);
//# sourceMappingURL=main.b93c3c6a.chunk.js.map