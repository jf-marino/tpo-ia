{"version":3,"sources":["download.png","components/info-box/InfoBox.js","components/image-box/ImageBox.js","components/upload-controls/UploadControls.js","services/images.js","config.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","InfoBox","_ref","_ref$uploading","uploading","_ref$attributes","attributes","_attributes$descripti","description","_attributes$color","color","_attributes$categorie","categories","_attributes$metadata","metadata","react_default","a","createElement","className","spin","tip","spinning","width","row","gutter","captions","map","caption","index","col","key","span","type","justify","progress","percent","Math","round","confidence","text","tags","tag","es_tag","length","category","score","name","dominantColorForeground","style","backgroundColor","concat","toLowerCase","dominantColorBackground","accentColor","dominantColors","format","toUpperCase","height","ImageBox","show","src","image","alt","fs","window","require","remote","UploadControls","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","fileToUpload","beforeUploadHandler","file","imagePath","path","content","readFileSync","setState","error","console","log","preview","toString","upload","props","onUpload","inherits","createClass","value","imagePreview","ImageBox_ImageBox","divider","offset","beforeUpload","action","showUploadList","es_button","icon","loading","disabled","onClick","Component","analyze","_ref2","asyncToGenerator","regenerator_default","mark","_callee","buffer","res","wrap","_context","prev","next","axios","method","url","data","headers","Ocp-Apim-Subscription-Key","Content-Type","sent","abrupt","t0","stop","_x","Header","Layout","Content","App","info","onImageSelected","then","_this$state","layout","UploadControls_UploadControls","push","InfoBox_InfoBox","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2EAAAA,EAAAC,QAAA,y9BCIaC,UAAU,SAAAC,GAA4C,IAAAC,EAAAD,EAAzCE,iBAAyC,IAAAD,KAAAE,EAAAH,EAAtBI,kBAAsB,IAAAD,EAAT,GAASA,EAAAE,EACUD,EAAjEE,mBADuD,IAAAD,EACzC,GADyCA,EAAAE,EACUH,EAA/CI,aADqC,IAAAD,EAC7B,GAD6BA,EAAAE,EACUL,EAAnCM,kBADyB,IAAAD,EACZ,GADYA,EAAAE,EACUP,EAAlBQ,gBADQ,IAAAD,EACG,GADHA,EAE/D,OACIE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,IAAI,gBAAgBC,SAAUjB,GAChCW,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,WACbH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIK,MAAM,OAAV,+BACAP,EAAAC,EAAAC,cAAA,MAAIK,MAAM,OAAV,WAGRP,EAAAC,EAAAC,cAAA,SAAOC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAKC,OAAQ,GACRhB,EAAYiB,SAAWjB,EAAYiB,SAASC,IAAI,SAACC,EAASC,GAAV,OAC7Cb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKC,IAAKF,EAAOG,KAAM,IACnBhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAKS,KAAK,OAAOC,QAAQ,UACrBlB,EAAAC,EAAAC,cAACY,EAAA,EAAD,KACId,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAUF,KAAK,SAASG,QAASC,KAAKC,MAA2B,IAArBV,EAAQW,YAAmBhB,MAAO,OAGtFP,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACIR,EAAAC,EAAAC,cAACY,EAAA,EAAD,KACId,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBS,EAAQY,YAKrD,OAIjBxB,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UACKT,EAAYgC,KAAOhC,EAAYgC,KAAKd,IAAI,SAAAe,GAAG,OACxC1B,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAKZ,IAAKW,GAAMA,KACf,MAGb1B,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAKC,OAAQ,GACRZ,EAAW+B,OAAS/B,EAAWc,IAAI,SAACkB,EAAUhB,GAAX,OAChCb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKC,IAAKF,EAAOG,KAAM,IACnBhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAKS,KAAK,OAAOC,QAAQ,UACrBlB,EAAAC,EAAAC,cAACY,EAAA,EAAD,KACId,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAUF,KAAK,SAASG,QAASC,KAAKC,MAAuB,IAAjBO,EAASC,OAAcvB,MAAO,OAGlFP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAKS,KAAK,OAAOC,QAAQ,UACrBlB,EAAAC,EAAAC,cAACY,EAAA,EAAD,KACId,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAKhC,MAAM,UAAUkC,EAASE,YAK7C,OAIjB/B,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACTR,EAAMqC,yBACHhC,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACIR,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IAAX,8BACAhB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACPhB,EAAAC,EAAAC,cAAA,QACIC,UAAU,eACV8B,MAAO,CAACC,gBAAe,GAAAC,OAAKxC,EAAMqC,wBAAwBI,kBAE9DpC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAjB,IAAiCR,EAAMqC,wBAAvC,OAIXrC,EAAM0C,yBACHrC,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACIR,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IAAX,6BACAhB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACPhB,EAAAC,EAAAC,cAAA,QACIC,UAAU,eACV8B,MAAO,CAACC,gBAAe,GAAAC,OAAKxC,EAAM0C,wBAAwBD,kBAE9DpC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAjB,IAAiCR,EAAM0C,wBAAvC,OAIX1C,EAAM2C,aACHtC,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACIR,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IAAX,oBACAhB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACPhB,EAAAC,EAAAC,cAAA,QACIC,UAAU,eACV8B,MAAO,CAACC,gBAAe,IAAAC,OAAMxC,EAAM2C,gBAEvCtC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAjB,KAAkCR,EAAM2C,YAAxC,OAIX3C,EAAM4C,gBACHvC,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACIR,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IAAX,uBACAhB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACNrB,EAAM4C,eAAe5B,IAAI,SAAAhB,GAAK,OAC3BK,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAKZ,IAAKpB,GAAQA,SAO1CK,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,UAAKH,EAASyC,OAASzC,EAASyC,OAAOC,cAAgB,MAE3DzC,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,UAAKH,EAASQ,MAAT,GAAA4B,OAAoBpC,EAASQ,MAA7B,OAAA4B,OAAwCpC,EAAS2C,QAAW,iEC7HhFC,UAAW,SAAAxD,GAAa,IAC3ByD,EAD2BzD,EAAV0D,KACHC,IACpB,OACI9C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAK2C,IAAKD,EAAMG,IAAI,eCF1BC,UADWC,OAAOC,QAAQ,YACZC,OAAOD,QAAQ,OAEtBE,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAA,QAAAO,EAAAC,UAAAhC,OAAAiC,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAR,EAAAC,OAAAQ,EAAA,EAAAR,CAAAE,MAAAJ,EAAAE,OAAAS,EAAA,EAAAT,CAAAJ,IAAAc,KAAAC,MAAAb,EAAA,CAAAI,MAAAvB,OAAA0B,MACIO,MAAQ,CACNC,aAAc,MAFpBd,EAKIe,oBAAsB,SAACC,GACrB,IAAI,IACYC,EAA0BD,EAAhCE,KAAiBxD,EAAesD,EAAftD,KAAMc,EAASwC,EAATxC,KACzB2C,EAAU1B,EAAG2B,aAAaH,GAChCjB,EAAKqB,SAAS,CACZP,aAAc,CAAEG,YAAWvD,OAAMc,OAAM2C,aAEzC,MAAOG,GACPC,QAAQC,IAAI,mCAAoCF,GAChDtB,EAAKqB,SAAS,CAAEP,aAAc,OAEhC,OAAO,GAhBbd,EAmBIyB,QAAU,WAAM,IACNX,EAAiBd,EAAKa,MAAtBC,aACR,OAAOA,EAAY,QAAAlC,OACPkC,EAAapD,KADN,YAAAkB,OACqBkC,EAAaK,QAAQO,SAAS,WAClE,IAvBV1B,EA0BI2B,OAAS,WAAM,IACLb,EAAiBd,EAAKa,MAAtBC,aACJA,GACFd,EAAK4B,MAAMC,SAASf,IA7B5Bd,EAAA,OAAAC,OAAA6B,EAAA,EAAA7B,CAAAJ,EAAAC,GAAAG,OAAA8B,EAAA,EAAA9B,CAAAJ,EAAA,EAAArC,IAAA,SAAAwE,MAAA,WAiCa,IACGlG,EAAcqE,KAAKyB,MAAnB9F,UACFmG,EAAe9B,KAAKsB,UAC1B,OACEhF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACER,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACThB,EAAAC,EAAAC,cAACuF,EAAD,CAAU5C,IAAK2C,MAGnBxF,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACER,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACThB,EAAAC,EAAAC,cAACwF,EAAA,EAAD,uBAGJ1F,EAAAC,EAAAC,cAACM,EAAA,EAAD,KACER,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,EAAG2E,OAAQ,GACpB3F,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAQU,aAAclC,KAAKY,oBAAqBuB,OAAO,wCAAwCC,gBAAgB,GAC7G9F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,KACI/F,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,CAAM/E,KAAK,WADf,0BAONjB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACThB,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,CACEE,QAAS5G,EACT6G,SAAU7G,EACV8G,QAASzC,KAAKwB,QAEb7F,EAAY,aAAe,mBAjE9C+D,EAAA,CAAoCgD,yDCLvBC,EAAO,eAAAC,EAAA9C,OAAA+C,EAAA,EAAA/C,CAAAgD,EAAAvG,EAAAwG,KAAG,SAAAC,EAAAvH,GAAA,IAAAwH,EAAAC,EAAA,OAAAJ,EAAAvG,EAAA4G,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAASL,EAATxH,EAASwH,OAATG,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEGC,IAAM,CACpBC,OAAQ,OACRC,IAAG,GAAAhF,OCPgB,sEDOhB,gDACHiF,KAAMT,EACNU,QAAS,CACLC,4BCTe,mCDUfC,eAAgB,8BART,cAETX,EAFSE,EAAAU,KAAAV,EAAAW,OAAA,SAWRb,EAAIQ,MAXI,OAAAN,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAafhC,QAAQC,IAAI,QAAZ+B,EAAAY,IAbe,yBAAAZ,EAAAa,SAAAjB,EAAAhD,KAAA,YAAH,gBAAAkE,GAAA,OAAAtB,EAAAnC,MAAAT,KAAAE,YAAA,GEIZiE,UAAoBC,IAApBD,QAAQE,EAAYD,IAAZC,QAwCDC,6MArCb5D,MAAQ,CACN/E,WAAW,EACX4I,KAAM,MAGRC,gBAAkB,SAACpF,GACjBS,EAAKqB,SAAS,CAAEvF,WAAW,IAC3BgH,EAAQ,CAAEM,OAAQ7D,EAAM4B,UAAWyD,KAAK,SAAAf,GAEtC7D,EAAKqB,SAAS,CAAEvF,WAAW,EAAO4I,KAAMb,+EAInC,IAAAgB,EACqB1E,KAAKU,MAAzB/E,EADD+I,EACC/I,UAAW4I,EADZG,EACYH,KACnB,OACEjI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACmI,EAAA,EAAD,KACErI,EAAAC,EAAAC,cAAC2H,EAAD,KACE7H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,+BAEFH,EAAAC,EAAAC,cAAC6H,EAAD,CAAS5H,UAAU,eACjBH,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAKC,OAAQ,GACXT,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,IACThB,EAAAC,EAAAC,cAACoI,EAAD,CAAgBjJ,UAAWA,EAAW+F,SAAU1B,KAAKwE,mBAEvDlI,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAKE,KAAM,GAAIuH,KAAM,GACnBvI,EAAAC,EAAAC,cAACsI,EAAD,CAASnJ,UAAWA,EAAWE,WAAY0I,gBA5BzC7B,aCGEqC,QACW,cAA7BxF,OAAOyF,SAASC,UAEe,UAA7B1F,OAAOyF,SAASC,UAEhB1F,OAAOyF,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO9I,EAAAC,EAAAC,cAAC6I,EAAD,MAASC,SAASC,eAAe,SDuH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMjB,KAAK,SAAAkB,GACjCA,EAAaC","file":"static/js/main.c7bf010e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAGFBMVEXx7/D////18/T6+vr49/j08vP8/Pzw7e+uV6dtAAABfUlEQVR4nO3ayXKCUBBAUeXB4///OCEGmVQMLKx0n7NTYNG3mIvLBQAAAAAAAAAAAAAAAAAAAACANLrmrO7TI5xWr2eVT49wmgYaDDS4NWj6gxv3bZwGh7fWQINBrAbtn8+F41YaaKBB5Aa16bpm9+YpdIPfy0SXuMH4LNzvRAjcoJ2WvT5HBG4wX6jBzkNl3AZ1vTBhA8fCdbosDOYjb/aJwA1mI5XFyOsIgRtMF8dmMfLqZ+wGQ4S+X98dlM0ZMnSD77Hatlw3EzebfyI3eGBcN3GDn0GXO0K6Bs195bwNbisvdoRsDcY76MwNxrfvZfVfpgbj2vPXKskaTA+TWRuU2WPU7GDI06AsP7Xp0jUo22+NcjV4EOAyPxjiN3g2WZenwfPB0jR4MVdJ0uDVWF2OBq+nqhka7A1V4zfYn6lGb/DOSDVmg/v3629tNa4Yq8ExGmgwiNOgtEfVMA3O0UCDGA3actbxMyoAAAAAAAAAAAAAAAAAAAAAAPxDX+w9D05sn3cWAAAAAElFTkSuQmCC\"","import React from 'react';\nimport { Progress, Spin, Row, Col, Tag } from 'antd';\nimport './InfoBox.css';\n\nexport const InfoBox = ({ uploading = false, attributes = {} }) => {\n    const { description = {}, color = {}, categories = [], metadata = {} } = attributes;\n    return (\n        <div className=\"info-container\">\n            <Spin tip=\"Analizando...\" spinning={uploading}>\n                <table>\n                    <thead className=\"heading\">\n                        <tr>\n                            <th width=\"30%\">Nombre de la Caracteristica</th>\n                            <th width=\"70%\">Valor</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"body\">\n                        <tr>\n                            <td>Descripción</td>\n                            <td>\n                                <Row gutter={8}>\n                                    {description.captions ? description.captions.map((caption, index) => (\n                                        <Col key={index} span={12}>\n                                            <div className=\"caption\">\n                                                <Row type=\"flex\" justify=\"center\">\n                                                    <Col>\n                                                        <Progress type=\"circle\" percent={Math.round(caption.confidence * 100)} width={50} />\n                                                    </Col>\n                                                </Row>\n                                                <Row>\n                                                    <Col>\n                                                        <h4 className=\"caption-text\">{caption.text}</h4>\n                                                    </Col>\n                                                </Row>\n                                            </div>\n                                        </Col>\n                                    )) : '-'}\n                                </Row>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Etiquetas</td>\n                            <td>\n                                {description.tags ? description.tags.map(tag => (\n                                    <Tag key={tag}>{tag}</Tag>\n                                )) : '-'}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Categorías</td>\n                            <td>\n                                <Row gutter={8}>\n                                    {categories.length ? categories.map((category, index) => (\n                                        <Col key={index} span={12}>\n                                            <div className=\"caption\">\n                                                <Row type=\"flex\" justify=\"center\">\n                                                    <Col>\n                                                        <Progress type=\"circle\" percent={Math.round(category.score * 100)} width={50} />\n                                                    </Col>\n                                                </Row>\n                                                <br></br>\n                                                <Row type=\"flex\" justify=\"center\">\n                                                    <Col>\n                                                        <Tag color=\"purple\">{category.name}</Tag>\n                                                    </Col>\n                                                </Row>\n                                            </div>\n                                        </Col>\n                                    )) : '-'}\n                                </Row>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Colores</td>\n                            <td className=\"color-data\">\n                                {color.dominantColorForeground && (\n                                    <Row>\n                                        <Col span={12}>Color Dominante de Frente:</Col>\n                                        <Col span={12}>\n                                            <span \n                                                className=\"color-sample\" \n                                                style={{backgroundColor: `${color.dominantColorForeground.toLowerCase()}`}}\n                                            ></span>\n                                            <small className=\"color-label\">({color.dominantColorForeground})</small>\n                                        </Col>\n                                    </Row>\n                                )}\n                                {color.dominantColorBackground && (\n                                    <Row>\n                                        <Col span={12}>Color Dominante de Fondo:</Col>\n                                        <Col span={12}>\n                                            <span \n                                                className=\"color-sample\" \n                                                style={{backgroundColor: `${color.dominantColorBackground.toLowerCase()}`}}\n                                            ></span>\n                                            <small className=\"color-label\">({color.dominantColorBackground})</small>\n                                        </Col>\n                                    </Row>\n                                )}\n                                {color.accentColor && (\n                                    <Row>\n                                        <Col span={12}>Color de Acento:</Col>\n                                        <Col span={12}>\n                                            <span \n                                                className=\"color-sample\" \n                                                style={{backgroundColor: `#${color.accentColor}`}}\n                                            ></span>\n                                            <small className=\"color-label\">(#{color.accentColor})</small>\n                                        </Col>\n                                    </Row>\n                                )}\n                                {color.dominantColors && (\n                                    <Row>\n                                        <Col span={12}>Colores Dominantes:</Col>\n                                        <Col span={12}>\n                                            {color.dominantColors.map(color => (\n                                                <Tag key={color}>{color}</Tag>\n                                            ))}\n                                        </Col>\n                                    </Row>\n                                )}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Formato de la imagen</td>\n                            <td>{metadata.format ? metadata.format.toUpperCase() : '-'}</td>\n                        </tr>\n                        <tr>\n                            <td>Dimensiones de la imagen</td>\n                            <td>{metadata.width ? `${metadata.width} x ${metadata.height}` : '-'}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </Spin>\n        </div>\n    );\n};\n","import React from 'react';\nimport image from '../../download.png';\nimport './ImageBox.css';\n\nexport const ImageBox = ({ src }) => {\n    const show = src || image;\n    return (\n        <div className=\"image-container\">\n            <img src={show} alt=\"Nothing\" />\n        </div>\n    );\n};\n","import React, { Component } from 'react';\nimport { Button, Icon, Upload, Divider, Row, Col } from 'antd';\nimport { ImageBox } from '../image-box';\nimport './UploadControls.css';\n\nconst electron = window.require('electron');\nconst fs = electron.remote.require('fs');\n\nexport class UploadControls extends Component {\n    state = {\n      fileToUpload: null\n    };\n\n    beforeUploadHandler = (file) => {\n      try {\n        const { path: imagePath, type, name } = file;\n        const content = fs.readFileSync(imagePath);\n        this.setState({\n          fileToUpload: { imagePath, type, name, content }\n        });\n      } catch (error) {\n        console.log('Error reading file from local FS', error);\n        this.setState({ fileToUpload: null });\n      }\n      return false;\n    };\n\n    preview = () => {\n      const { fileToUpload } = this.state;\n      return fileToUpload\n        ? `data:${fileToUpload.type};base64,${fileToUpload.content.toString('base64')}`\n        : '';\n    };\n\n    upload = () => {\n      const { fileToUpload } = this.state;\n      if (fileToUpload) {\n        this.props.onUpload(fileToUpload);\n      }\n    };\n\n    render() {\n        const { uploading } = this.props;\n        const imagePreview = this.preview();\n        return (\n          <div>\n            <Row>\n              <Col span={24}>\n                <ImageBox src={imagePreview}/>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={24}>\n                <Divider>Subir imagen</Divider>\n              </Col>\n            </Row>\n            <Row>\n              <Col span={8} offset={1}>\n                <Upload beforeUpload={this.beforeUploadHandler} action='//jsonplaceholder.typicode.com/posts/' showUploadList={false}>\n                  <div>\n                    <Button>\n                        <Icon type=\"upload\" />\n                        Seleccionar archivo\n                    </Button>\n                  </div>\n                </Upload>\n              </Col>\n              <Col span={15}>\n                <Button\n                  loading={uploading}\n                  disabled={uploading}\n                  onClick={this.upload}\n                >\n                  {uploading ? 'Analizando' : 'Analizar'}\n                </Button>\n              </Col>\n            </Row>\n          </div>\n        );\n    }\n}","import axios from 'axios';\nimport { IMAGES_SERVICE_URL, IMAGES_SERVICE_KEY } from '../config';\n\nexport const analyze = async ({ buffer }) => {\n\ttry {\n        const res = await axios({\n            method: 'post',\n            url: `${IMAGES_SERVICE_URL}?visualFeatures=Categories,Description,Color`,\n            data: buffer,\n            headers: {\n                'Ocp-Apim-Subscription-Key': IMAGES_SERVICE_KEY,\n                'Content-Type': 'application/octet-stream'\n            }\n        });\n        return res.data;\n    } catch (error) {\n        console.log('ERROR', error);\n    }\n};","export const IMAGES_SERVICE_URL = `https://brazilsouth.api.cognitive.microsoft.com/vision/v2.0/analyze`;\nexport const IMAGES_SERVICE_KEY = `5e7822d7f96243379e0d36ef0a7c4249`;","import React, { Component } from 'react';\nimport { Row, Col, Layout } from 'antd';\nimport { InfoBox } from './components/info-box';\nimport { UploadControls } from './components/upload-controls';\nimport { analyze } from './services/images';\nimport './App.css';\n\nconst { Header, Content } = Layout;\n\nclass App extends Component {\n  state = {\n    uploading: false,\n    info: {}\n  };\n\n  onImageSelected = (image) => {\n    this.setState({ uploading: true });\n    analyze({ buffer: image.content }).then(data => {\n      // console.log('Analized image, got the following:', data);\n      this.setState({ uploading: false, info: data });\n    });\n  };\n\n  render() {\n    const { uploading, info } = this.state;\n    return (\n      <div className=\"App\">\n        <Layout>\n          <Header>\n            <h1 className=\"title\">Análisis de Imágenes</h1>\n          </Header>\n          <Content className=\"main-layout\">\n            <Row gutter={5}>\n              <Col span={10}>\n                <UploadControls uploading={uploading} onUpload={this.onImageSelected} />\n              </Col>\n              <Col span={12} push={1}>\n                <InfoBox uploading={uploading} attributes={info} />\n              </Col>\n            </Row>\n          </Content>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}